name: publish_plotez

on:
    release:
        types: [ published ]

permissions:
    contents: read

jobs:
    deploy:

        runs-on: ubuntu-latest
        strategy:
            matrix:
                python-version: [ "3.10" ]

        steps:
            -   uses: actions/checkout@v4
            -   name: Set up Python
                uses: actions/setup-python@v4
                with:
                    python-version: ${{ matrix.python-version }}
            -   name: Install build dependencies
                run: |
                    python -m pip install --upgrade pip
                    pip install build
            -   name: Build package
                run: python -m build
            -   name: Publish package
                uses: pypa/gh-action-pypi-publish@27b31702a0e7fc50959f5ad993c78deac1bdfc29
                with:
                    user: __token__
                    password: ${{ secrets.GH_AUTH_TOKEN_ }}
